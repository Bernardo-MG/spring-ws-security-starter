components:
  parameters:
    userSortParam:
      name: sort
      description: Sorting to apply.
      in: query
      style: form
      explode: true
      required: false
      schema:
        type: array
        items:
          type: string
          pattern: '^(email|username|name|enabled|notExpired|notLocked|passwordNotExpired)\|(asc|desc)$'
          example: username|asc
    username:
      name: username
      in: path
      required: true
      description: User's username.
      schema:
        type: string
  schemas:
    User:
      type: object
      description: System user and their account status.
      required: [email, username, name, enabled, notExpired, notLocked, passwordNotExpired, roles]
      properties:
        email:
          type: string
          format: email
          description: User email address.
        username:
          type: string
          description: Unique username for the user.
        name:
          type: string
          description: Display name of the user.
        enabled:
          type: boolean
          description: Indicates if the account is currently enabled.
        notExpired:
          type: boolean
          description: True if the account is not expired.
        notLocked:
          type: boolean
          description: True if the account is not locked.
        passwordNotExpired:
          type: boolean
          description: True if the password is still valid (not expired).
        roles:
          type: array
          description: Roles assigned to the user.
          items:
            $ref: 'roles.yml#/components/schemas/Role'
    UserActivation:
      type: object
      required: [password]
      properties:
        password:
          type: string
          format: password
          description: Password to set for the new user.
    UserCreation:
      type: object
      required: [email, username, name, roles]
      properties:
        email:
          type: string
        username:
          type: string
        name:
          type: string
        roles:
          type: array
          items:
            type: string
    UserChange:
      type: object
      description: Data for updating an existing user.
      required: [email, name, enabled, passwordNotExpired, roles]
      properties:
        email:
          type: string
          format: email
          description: New email address for the user.
        name:
          type: string
          description: Display name of the user.
        enabled:
          type: boolean
          description: Whether the user account is active.
        passwordNotExpired:
          type: boolean
          description: Whether the user's password is not expired.
        roles:
          type: array
          description: List of role names to assign to the user.
          items:
            type: string
    UserPageResponse:
      allOf:
        - $ref: '../common/responses.yml#/components/schemas/PageResponse'
        - type: object
          properties:
            content:
              type: array
              items:
                $ref: '#/components/schemas/User'
    UserResponse:
      type: object
      properties:
        content:
          $ref: '#/components/schemas/User'